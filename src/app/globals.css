@import "tailwindcss";

/* ---------------- Base ---------------- */
html, body { background:#fff; color:#0f172a; -webkit-text-size-adjust:100%; }
:root { --background:#ffffff; --foreground:#171717; }

/* Keep variables for utility use (site defaults are light) */
body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* Expose fonts to Tailwind theme */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* -------------- COMPONENT LAYER -------------- */
@layer components {
  .container { @apply max-w-7xl mx-auto px-6; }

  .underlined { @apply underline decoration-2 underline-offset-4 md:underline-offset-6 decoration-teal-600; }

  /* lift */
  .lift { @apply transition-transform shadow-sm; }
  .lift:hover { @apply -translate-y-0.5 shadow-md; }

  /* Surfaces / Cards (LIGHT defaults) */
  .surface        { @apply bg-slate-50; }
  .section-alt    { @apply rounded-lg bg-slate-100/80 p-4 border; }
  .surface-strong { @apply bg-teal-100; }
  .card { @apply border rounded-lg p-4 bg-slate-50/90 backdrop-blur transition-all; }

  /* Clickable link cards */
  .card-link {
    @apply relative border-teal-200 hover:border-teal-300 hover:bg-teal-50/70
           ring-0 focus:outline-none focus:ring-2 focus:ring-teal-500/50 transition-colors;
  }
  .card-link-title { @apply font-semibold text-gray-900 transition-colors; }
  .group:hover .card-link-title,
  .group:focus .card-link-title { @apply text-teal-700; }
  .chev { @apply text-teal-600/70 transition-transform; transform: translateX(0); }
  .group:hover .chev, .group:focus .chev { transform: translateX(4px); }
  .card-link-foot { @apply mt-3 inline-flex items-center gap-2 text-sm text-teal-700/80; }
  .card-link-foot .dot { @apply h-1.5 w-1.5 rounded-full bg-teal-600; }
  .card:hover:not(a) { @apply shadow-md -translate-y-0.5; }

  /* Layout helpers */
  .home-main { @apply flex-1 p-0; }
  .home-container { @apply max-w-7xl mx-auto px-6 md:px-10; }

  /* Hero */
  .hero-section { @apply space-y-3; }
  .hero-title { @apply text-3xl sm:text-4xl font-bold; }
  .hero-text  { @apply text-lg; }
  .hero-cta {
    @apply inline-block bg-teal-600 text-white px-6 py-3 rounded-lg
           shadow hover:shadow-md hover:-translate-y-0.5 transition hover:bg-teal-700;
  }

  /* Benefits */
  .benefits-section { @apply grid sm:grid-cols-3 gap-4 pt-4; }
  .benefit-card { @apply border rounded-lg p-5 bg-white/80 backdrop-blur; }
  .benefit-title { @apply font-semibold; }
  .benefit-text { @apply text-sm text-gray-600; }

  /* Header */
  .site-header { @apply z-50 border-b; }
  .site-header__bg {
    @apply absolute inset-0 bg-cover bg-center pointer-events-none brightness-75;
    background-image: url('/austinskyline1.jpg');
  }
  .site-header__overlay { @apply absolute inset-0 bg-black/60 sm:bg-black/50 pointer-events-none; }
  .site-header__row { @apply h-28 flex items-center justify-between; }

  /* Logo */
  .logo-img  { @apply h-auto w-auto max-h-20; }
  .logo-chip { @apply inline-block rounded-md bg-white shadow-md p-1; }

  /* Nav */
  .main-nav { @apply flex items-center gap-10; }
  .main-nav > a { @apply text-lg font-semibold tracking-wide text-white hover:text-teal-300 transition-colors; }

  /* Footer */
  .site-footer { @apply border-t bg-neutral-50; }
  .site-footer__inner { @apply max-w-6xl mx-auto px-4 py-6 text-sm text-gray-600; }

  /* ===== Mobile contrast safeguards (stay) ===== */
  @media (max-width: 640px) {
    :is(
      .bg-black,
      .bg-gray-900, .bg-gray-950,
      .bg-neutral-900, .bg-neutral-950,
      .bg-zinc-900, .bg-zinc-950,
      .bg-slate-900, .bg-slate-950,
      .bg-stone-900, .bg-stone-950,
      .bg-teal-900
    ) :where(h1,h2,h3,h4,h5,h6,strong,a,button,label) {
      color: #ffffff !important;
    }
    :is(
      .bg-black,
      .bg-gray-900, .bg-gray-950,
      .bg-neutral-900, .bg-neutral-950,
      .bg-zinc-900, .bg-zinc-950,
      .bg-slate-900, .bg-slate-950,
      .bg-stone-900, .bg-stone-950,
      .bg-teal-900
    ) :where(p,li,small,span,em,blockquote,.hero-text,.benefit-text) {
      color: #f1f5f9 !important;
    }
    :is(
      .bg-black,
      .bg-gray-900, .bg-gray-950,
      .bg-neutral-900, .bg-neutral-950,
      .bg-zinc-900, .bg-zinc-950,
      .bg-slate-900, .bg-slate-950,
      .bg-stone-900, .bg-stone-950,
      .bg-teal-900
    ) :is([class*="text-slate-"], [class*="text-gray-"]) {
      color: #f1f5f9 !important;
    }
  }

  /* Manual force for dark sections (hero, etc.) */
  .on-dark,
  .on-dark :where(h1,h2,h3,h4,h5,h6,strong,a,button,label) { color:#ffffff !important; }
  .on-dark :where(p,li,small,span,em,blockquote)          { color:#e6edf5 !important; }

  /* Sticky CTA */
  .sticky-cta {
    position: fixed;
    left: 50%;
    bottom: max(1rem, env(safe-area-inset-bottom));
    transform: translateX(-50%);
    z-index: 60;
    transition: opacity .25s ease, visibility .25s ease;
  }
  .sticky-cta--hidden { opacity:0; visibility:hidden; pointer-events:none; }
  .sticky-cta--shown  { opacity:1; visibility:visible; }

  /* Extra mobile tweaks */
  @media (max-width: 640px) {
    footer { padding-bottom: 4.5rem; } /* breathing room under sticky */
    /* Light sections must stay readable on phones */
    :is(.bg-slate-50, .bg-slate-100, .bg-slate-100\/70)
      :where(h1,h2,h3,h4,h5,h6,strong,a,button,label) { color:#0f172a !important; }
    :is(.bg-slate-50, .bg-slate-100, .bg-slate-100\/70)
      :where(p,li,small,span,em,blockquote) { color:#334155 !important; }
    /* About-page tiny fixes */
    .h3-fixes { color:#0f172a !important; }
    .testimonial-block,
    .testimonial-block blockquote,
    .testimonial-block span { color:#0f172a !important; }
  }
}

/* =========================================================
   REAL DARK-MODE (system prefers dark)
   ========================================================= */
@media (prefers-color-scheme: dark) {
  /* Base */
  html, body {
    background: #0f172a;        /* slate-900 */
    color: #f1f5f9;             /* slate-100 */
  }

  /* Surfaces */
  .surface        { background-color:#0f172a !important; }
  .section-alt    { background-color:#0b1220 !important; border-color:#1e293b !important; }
  .surface-strong { background-color:#0b766e1a !important; } /* subtle teal tint */

  /* Cards */
  .card, .benefit-card {
    background-color:#1e293b !important;   /* slate-800 */
    border-color:#334155 !important;       /* slate-700 */
    color:#f1f5f9 !important;
  }
  .card a, .benefit-card a { color:#fff !important; }

  /* Headings / links brighter than body text */
  h1,h2,h3,h4,h5,h6,strong,a { color:#ffffff; }
  p,li,small,span,em,blockquote { color:#e2e8f0; } /* slate-200 */

  /* Sections that were light in day mode */
  .bg-slate-50,
  .bg-slate-100,
  .bg-slate-100\/70,
  .bg-teal-50\/70 {
    background-color:#0f172a !important;
  }

  /* Header overlay stays readable over the skyline */
  .site-header__overlay { background-color: rgba(0,0,0,.55); }
  .main-nav > a { color:#e2e8f0; }
  .main-nav > a:hover { color:#5eead4; }   /* teal-300 */

  /* Testimonial blocks */
  blockquote.card { background-color:#1e293b !important; color:#e2e8f0 !important; }

  /* Footer */
  .site-footer { background-color:#0b1220; border-color:#1f2937; }
  .site-footer__inner { color:#94a3b8; } /* slate-400 */
}
